import{r as l,u as g,j as e,H as D,L as P}from"./app-CObOAXFW.js";import{A as B}from"./AuthenticatedLayout-CdcLBxJE.js";import"./transition-B1xL1hpX.js";import"./ApplicationLogo-o7-4iz79.js";function I({events:a,committees:n,committeeCount:j,members:f}){const[y,m]=l.useState(!1),[v,c]=l.useState(!1),[o,x]=l.useState(null),[N,u]=l.useState(""),{data:h,setData:p,post:w,processing:k,errors:i,reset:S}=g({member_id:"",sie:""}),s=g({sie:""}),b=[{value:"",label:"-- Pilih Sie --"},{value:"sc",label:"Steering Committee"},{value:"ketua",label:"Ketua"},{value:"sekretaris",label:"Sekretaris"},{value:"bendahara",label:"Bendahara"},{value:"humas",label:"Humas"},{value:"acara",label:"Acara"},{value:"perkap",label:"Perkap"},{value:"sponsor",label:"Sponsor"},{value:"konsumsi",label:"Konsumsi"},{value:"keamanan",label:"Keamanan"},{value:"kreatif",label:"Kreatif"},{value:"pdd",label:"PDD"}];function M(){m(!0)}function r(){m(!1),S()}function T(t){t.preventDefault(),w(route("moderator.committee.store",a.id),{onSuccess:()=>{r()}})}function q(t){x(t.id),s.setData("sie",t.sie??""),u(t.member?.name??""),c(!0)}function d(){x(null),s.reset("sie"),u(""),c(!1)}function C(t){t.preventDefault(),o&&s.put(route("moderator.committee.update",[a.id,o]),{onSuccess:()=>d()})}return e.jsxs(B,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Susunan Kepanitiaan"}),children:[e.jsx(D,{title:`Panitia ${a.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white p-6 flex gap-6 items-center justify-between shadow sm:rounded-lg mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-semibold text-gray-900",children:a?.title}),e.jsx("p",{className:"text-gray-500 text-sm mt-2    ",children:a.description})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-600",viewBox:"0 -960 960 960",fill:"currentColor",children:e.jsx("path",{d:"M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 294q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"})}),e.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:a.location})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-xl",children:[j," Panitia"]}),e.jsx("button",{type:"button",onClick:M,className:"mb-4 inline-block bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Tambah Panitia"})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIM"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Divisi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sie"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"Belum ada panitia untuk event ini."})}):n.map((t,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.member?.name??"Unknown Member"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.member?.nim??"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.member?.division_label??"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.sie_label}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>q(t),className:"px-3 py-1 text-sm bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100",children:"Edit"}),e.jsx(P,{href:route("moderator.committee.destroy",[a.id,t.id]),method:"delete",as:"button",onClick:_=>{confirm("Yakin ingin menghapus panitia ini?")||_.preventDefault()},className:"px-3 py-1 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100",children:"Hapus"})]})})]},t.id))})]})})]})}),y&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tambah Panitia"}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member"}),e.jsxs("select",{value:h.member_id,onChange:t=>p("member_id",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Member --"}),f.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - ",t.division_label]},t.id))]}),i.member_id&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:i.member_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sie"}),e.jsx("select",{value:h.sie,onChange:t=>p("sie",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:b.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),i.sie&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:i.sie})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:r,className:"px-3 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Batal"}),e.jsx("button",{type:"submit",disabled:k,className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Tambah"})]})]})]})]}),v&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:d}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Sie Panitia"}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Member"}),e.jsx("input",{type:"text",value:N,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sie"}),e.jsx("select",{value:s.data.sie,onChange:t=>s.setData("sie",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:b.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),s.errors.sie&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:s.errors.sie})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:d,className:"px-3 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Batal"}),e.jsx("button",{type:"submit",disabled:s.processing,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Simpan"})]})]})]})]})]})}export{I as default};
