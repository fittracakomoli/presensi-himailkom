import{r,u as f,j as e,H as D,L as B}from"./app-D6jj01Lb.js";import{A as K}from"./AuthenticatedLayout-y-RkyFJ7.js";import{P as l}from"./PrimaryButton-C2IOSX4m.js";import"./transition-BGa5ZHMF.js";import"./ApplicationLogo-Bz5SF6ir.js";function L({events:a,committees:c,committeeCount:j,members:y}){const[v,o]=r.useState(!1),[w,m]=r.useState(!1),[x,u]=r.useState(null),[N,h]=r.useState(""),{data:p,setData:g,post:k,processing:S,errors:i,reset:M}=f({member_id:"",sie:""}),s=f({sie:""}),b=[{value:"",label:"-- Pilih Sie --"},{value:"sc",label:"Steering Committee"},{value:"ketua",label:"Ketua"},{value:"sekretaris",label:"Sekretaris"},{value:"bendahara",label:"Bendahara"},{value:"humas",label:"Humas"},{value:"acara",label:"Acara"},{value:"perkap",label:"Perkap"},{value:"sponsor",label:"Sponsor"},{value:"konsumsi",label:"Konsumsi"},{value:"keamanan",label:"Keamanan"},{value:"kreatif",label:"Kreatif"},{value:"pdd",label:"PDD"},{value:"ticketing",label:"Ticketing"}];function T(){o(!0)}function n(){o(!1),M()}function q(t){t.preventDefault(),k(route("moderator.committee.store",a.id),{onSuccess:()=>{n()}})}function C(t){u(t.id),s.setData("sie",t.sie??""),h(t.member?.name??""),m(!0)}function d(){u(null),s.reset("sie"),h(""),m(!1)}function E(t){t.preventDefault(),x&&s.put(route("moderator.committee.update",[a.id,x]),{onSuccess:()=>d()})}return e.jsxs(K,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-primary",children:"Susunan Kepanitiaan"}),children:[e.jsx(D,{title:`Panitia ${a.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white p-6 flex gap-6 items-center justify-between shadow sm:rounded-lg mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-semibold text-primary",children:a?.title}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:a.description})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-secondary",viewBox:"0 -960 960 960",fill:"currentColor",children:e.jsx("path",{d:"M480-480q33 0 56.5-23.5T560-560q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560q0 33 23.5 56.5T480-480Zm0 294q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"})}),e.jsx("span",{className:"ml-2 text-secondary font-medium",children:a.location})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"font-medium text-lg text-gray-700",children:[j," Panitia"]}),e.jsx(l,{type:"button",onClick:T,children:"Tambah Panitia"})]}),e.jsx("div",{className:"bg-white shadow sm:rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-primary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Nama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"NIM"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Divisi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Sie"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:"Belum ada panitia untuk event ini."})}):c.map((t,P)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.member?.name??"Unknown Member"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.member?.nim??"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.member?.division_label??"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.sie_label}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsx(l,{type:"button",onClick:()=>C(t),children:"Edit"}),e.jsx(B,{href:route("moderator.committee.destroy",[a.id,t.id]),method:"delete",as:"button",onClick:_=>{confirm("Yakin ingin menghapus panitia ini?")||_.preventDefault()},className:"text-xs items-center rounded-md border border-transparent bg-red-600 px-4 py-2 font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-400 focus:bg-red-400 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 active:bg-gray-900",children:"Hapus"})]})})]},t.id))})]})})]})}),v&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:n}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-primary mb-4",children:"Tambah Panitia"}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Member"}),e.jsxs("select",{value:p.member_id,onChange:t=>g("member_id",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Member --"}),y.map(t=>e.jsxs("option",{value:t.id,children:[t.name," - ",t.division_label]},t.id))]}),i.member_id&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:i.member_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sie"}),e.jsx("select",{value:p.sie,onChange:t=>g("sie",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:b.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),i.sie&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:i.sie})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:n,className:"text-xs items-center rounded-md border border-gray-600 px-4 py-2 font-semibold uppercase tracking-widest text-gray-600 transition duration-150 ease-in-out hover:bg-gray-400 focus:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 active:bg-gray-900",children:"Batal"}),e.jsx(l,{type:"submit",disabled:S,children:"Tambah"})]})]})]})]}),w&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:d}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Sie Panitia"}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Member"}),e.jsx("input",{type:"text",value:N,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sie"}),e.jsx("select",{value:s.data.sie,onChange:t=>s.setData("sie",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:b.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),s.errors.sie&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:s.errors.sie})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:d,className:"text-xs items-center rounded-md border border-gray-600 px-4 py-2 font-semibold uppercase tracking-widest text-gray-600 transition duration-150 ease-in-out hover:bg-gray-400 focus:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 active:bg-gray-900",children:"Batal"}),e.jsx(l,{type:"submit",disabled:s.processing,children:"Simpan"})]})]})]})]})]})}export{L as default};
