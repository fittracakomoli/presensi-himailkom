import{r as m,j as e,u as _,H as k}from"./app-TewQyCL5.js";import{A as I}from"./AuthenticatedLayout-DrE8_fc1.js";import{T as i,I as l}from"./TextInput-BBnLSqqI.js";import{I as n}from"./InputLabel-D5M5MQCS.js";import{P as v}from"./PrimaryButton-a_jN0sN9.js";import{K as j}from"./transition-BQSozMot.js";import"./ApplicationLogo-CVTRejmI.js";const P=m.forwardRef(function({options:d=[],children:p=null,className:r="",isFocused:t=!1,...c},x){const o=m.useRef(null);return m.useImperativeHandle(x,()=>({focus:()=>o.current?.focus()})),m.useEffect(()=>{t&&o.current?.focus()},[t]),e.jsx("select",{...c,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 "+r,ref:o,children:p??d.map(a=>typeof a=="object"?e.jsx("option",{value:a.value,children:a.label},a.value):e.jsx("option",{value:a,children:a},a))})});function K({user:u,member:d}){const p=[{value:"ph",label:"Pengurus Harian"},{value:"ekokre",label:"Ekokre"},{value:"internal",label:"Internal"},{value:"eksternal",label:"Eksternal"},{value:"sosmas",label:"Sosmas"},{value:"kominfo",label:"Kominfo"}],{data:r,setData:t,patch:c,put:x,reset:o,errors:a,processing:h,recentlySuccessful:f}=_({name:u.name,email:u.email,current_password:"",password:"",password_confirmation:"",member:{name:d.name,nim:d.nim,division:d.division}}),N=s=>{s.preventDefault(),c(route("member.profile.update"))},y=m.useRef(),C=s=>{s.preventDefault(),c(route("member.member.update"))},w=m.useRef(),g=m.useRef(),S=s=>{s.preventDefault(),x(route("member.password.update"),{preserveScroll:!0,onSuccess:()=>o(),onError:b=>{b.password&&(o("password","password_confirmation"),w.current?.focus()),b.current_password&&(o("current_password"),g.current?.focus())}})};return e.jsxs(I,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-primary",children:"Profile Settings"}),children:[e.jsx(k,{title:"Profile"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white p-4 shadow rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-primary",children:"Credential Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Credential information for you logged in and display name."})]}),e.jsxs("form",{onSubmit:N,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Name"}),e.jsx(i,{id:"name",className:"mt-1 block w-full",value:r.name,onChange:s=>t("name",s.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(l,{className:"mt-2",message:a.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:"Email"}),e.jsx(i,{id:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:s=>t("email",s.target.value),required:!0,autoComplete:"username"}),e.jsx(l,{className:"mt-2",message:a.email})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{disabled:h,children:"Save"}),e.jsx(j,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-primary",children:"Profile Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Your personal profile information for attendance."})]}),e.jsxs("form",{onSubmit:C,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"member-name",value:"Name"}),e.jsx(i,{id:"member-name",className:"mt-1 block w-full",value:r.member.name,onChange:s=>t("member.name",s.target.value),required:!0,autoComplete:"name"}),e.jsx(l,{className:"mt-2",message:a.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"nim",value:"NIM"}),e.jsx(i,{id:"nim",className:"mt-1 block w-full",value:r.member.nim,onChange:s=>t("nim",s.target.value),required:!0,autoComplete:"nim"}),e.jsx(l,{className:"mt-2",message:a.nim})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"division",value:"Division"}),e.jsx(P,{id:"division",ref:y,value:r.member.division,onChange:s=>t("member",{...r.member,division:s.target.value}),options:p,className:"mt-1 block w-full"}),e.jsx(l,{className:"mt-2",message:a.email})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{disabled:h,children:"Save"}),e.jsx(j,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-primary",children:"Update Password"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ensure your account is using a long, random password to stay secure."})]}),e.jsxs("form",{onSubmit:S,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"current_password",value:"Current Password"}),e.jsx(i,{id:"current_password",ref:g,value:r.current_password,onChange:s=>t("current_password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password"}),e.jsx(l,{message:a.current_password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"password",value:"New Password"}),e.jsx(i,{id:"password",ref:w,value:r.password,onChange:s=>t("password",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e.jsx(l,{message:a.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsx(i,{id:"password_confirmation",value:r.password_confirmation,onChange:s=>t("password_confirmation",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password"}),e.jsx(l,{message:a.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{disabled:h,children:"Save"}),e.jsx(j,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})})]})})]})}export{K as default};
